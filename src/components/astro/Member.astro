---
import { XMarkIcon } from '@heroicons/react/24/outline'

const { user, user_slot } = Astro.props
---

<div
  class="relative flex items-center space-x-3 rounded-md shadow-md bg-white border border-gray-300 px-6 py-5 focus-within:ring-2 focus-within:ring-fuchsia-500 focus-within:ring-offset-2 hover:border-fuchsia-500"
>
  <div class="shrink-0">
    <span
      class={'inline-flex size-10 items-center justify-center rounded-md shadow-md ' +
        (user.is_admin ? 'bg-fuchsia-500' : 'bg-gray-500')}
    >
      <span class="text-lg font-medium text-white uppercase">{user['short_name']}</span>
    </span>
  </div>
  <div class="min-w-0 flex-1">
    <a href={'/members/' + user.id} class="focus:outline-none" title={user.description}>
      <span aria-hidden="true" class="absolute inset-0"></span>
      <p class="text-sm font-medium text-gray-900 capitalize">{user.name}</p>
      <p class="text-sm font-medium text-gray-500 truncate">
        {user.description}
      </p>
    </a>
  </div>
  {
    user_slot && (
      <div class="z-10">
        <button
          id="delete-member-button"
          data-id={user_slot.id}
          class="text-red-800 font-semibold py-1 px-1"
        >
          <XMarkIcon aria-hidden="true" className="size-6" />
        </button>
      </div>
    )
  }
</div>
